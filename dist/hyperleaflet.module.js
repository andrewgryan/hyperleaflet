import e from"leaflet";var t=document.createElement("script");t.type="application/json",t.innerText="{}",document.body.appendChild(t);var o=JSON.parse(t.text);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},n.apply(this,arguments)}function r(e,t){e.on("click",function(e){var o=document.getElementById("map"),n=new CustomEvent("pointclick",{detail:{point:e.latlng,rowId:t}});o.dispatchEvent(n)})}var a={OpenStreetMap:e.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),EsriWorldImagery:e.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"})},i=function(){if(void 0!==e){var i=function(){var t=document.querySelector("#map"),o=t.querySelectorAll("[data-tile]"),n=t.dataset,r={center:(null==n?void 0:n.center.split(","))||[0,0],zoom:(null==n?void 0:n.zoom)||1,tile:a.OpenStreetMap,tiles:{}};o.forEach(function(e){var t=e.dataset,o=t.tile;if(o in a){var n=a[o];n.options.minZoom=t.minZoom,n.options.maxZoom=t.maxZoom,r.tiles[o]=n,"default"in t&&(r.tile=n)}else console.error(o+" is not in: \n"+Object.keys(a).join("\n"))});var i=e.map(t).setView(r.center,r.zoom);return Object.keys(r.tiles).length&&e.control.layers(r.tiles).addTo(i),function(e){e.on("click",function(e){var t=document.getElementById("map"),o=new CustomEvent("mapclick",{detail:{point:e.latlng}});t.dispatchEvent(o)}),e.on("zoomend",function(){var t=document.getElementById("map"),o=new CustomEvent("mapzoom",{detail:{zoom:e.getZoom()}});t.dispatchEvent(o)}),e.on("move",function(){var t=document.getElementById("map"),o=new CustomEvent("mapmove",{detail:{bbox:e.getBounds(),center:e.getCenter()}});t.dispatchEvent(o)})}(i),r.tile.addTo(i),i}(),d=document.querySelector("[hyperleaflet]"),c=function(t){var o=new Proxy({},{set:function(o,n,a){if(n in o)return console.error(n+" already exists"),!1;var i=function(t){var o=t.popup,n=t.tooltip,a=t.geometryType,i=t.id,d=JSON.parse(t.geometry);switch(a){case"Point":var c=e.marker(d);return o&&c.bindPopup(o),n&&c.bindTooltip(n),r(c,i),c;case"LineString":var l=e.GeoJSON.coordsToLatLngs(d,1),s=e.polyline(l);return o&&s.bindPopup(o),n&&s.bindTooltip(n),r(s,i),s;case"Polygon":var p=e.GeoJSON.coordsToLatLngs(d,1),u=e.polygon(p);return o&&u.bindPopup(o),n&&u.bindTooltip(n),r(u,i),u;default:return console.warn(a+" is not supported"),null}}(a);return i?(i.addTo(t),o[n]=i):console.warn("Geometry with "+n+" can not be created"),!0},deleteProperty:function(e,t){return e[t].remove(),delete e[t],!0}});return{addNodeToHyperleaf:function(e){var t=e.dataset,r=t.id;return o[r]=n({},t),[r,t.geometry,t.geometryType]},deleteNodeFromHyperleaflet:function(e){var t=e.dataset.id;return delete o[t],t}}}(i),l=c.addNodeToHyperleaf,s=c.deleteNodeFromHyperleaflet,p={addToDebugObject:function(e,n,r){o[e]={type:r,coordinates:JSON.parse(n)},t.text=JSON.stringify(o,null,2)},deleteFromDebugObject:function(e){delete o[e],t.text=JSON.stringify(o,null,2)},saveDebugObject:function(){t.text=JSON.stringify(o,null,2)}},u=p.addToDebugObject,m=p.deleteFromDebugObject,f=p.saveDebugObject;return i.whenReady(function(){d.querySelectorAll("[data-id]").forEach(function(e){var t=l(e),o=t[0];o&&u(o,t[1],t[2]),f()})}),new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&(e.addedNodes.forEach(function(e){if(1===e.nodeType&&e.matches("[data-id]")){var t=l(e),o=t[0];o&&u(o,t[1],t[2])}}),e.removedNodes.forEach(function(e){if(1===e.nodeType&&e.matches("[data-id]")){var t=s(e);m(t)}}))}),f()}).observe(d,{childList:!0,subtree:!0,attributeFilter:["data-id"]}),{map:i,addGeoJsonToMap:function(t){e.geoJSON(t).addTo(i)}}}console.error("Hyperleaf can not access Leaflet")}();export{i as default};
//# sourceMappingURL=hyperleaflet.module.js.map
